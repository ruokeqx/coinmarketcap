(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-acef49c2"],{b73f:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-header",{staticStyle:{height:"auto"}},[r("el-row",{attrs:{justify:"center",type:"flex"}},[r("el-col",{attrs:{xs:24,sm:22,md:20,lg:18,xl:16}},[r("div",{attrs:{id:"head-line"}},[r("el-image",{staticClass:"img",staticStyle:{width:"216px",height:"37px",float:"left"},attrs:{src:e.src},on:{click:function(t){return e.homeClick()}}}),r("div",{staticStyle:{float:"right"}},[r("el-button",{staticStyle:{border:"none","margin-right":"10px"},on:{click:function(t){return e.homeClick()}}},[e._v("主页")]),r("el-button",{staticStyle:{border:"none","margin-right":"10px"},on:{click:function(t){return e.$router.push({path:"/trade"})}}},[e._v("交易中心")]),r("el-badge",{staticClass:"item",staticStyle:{"margin-right":"10px"},attrs:{value:e.messages.length,hidden:0==e.messages.length}},[r("el-popover",{attrs:{placement:"bottom",width:"80",trigger:"hover"}},[0==e.messages.length?r("div",{staticStyle:{"text-align":"center"}},[e._v(" 无消息 ")]):e._e(),e._l(e.messages,(function(t){return r("div",{key:t.MsgId},[r("el-link",{attrs:{type:"info",underline:!1},on:{click:function(r){return e.clickMessage(t)}}},[0==t.MsgType?r("div",[e._v("关注的货币降价了！")]):e._e(),1==t.MsgType?r("div",[e._v("交易超过预期时间")]):e._e(),2==t.MsgType?r("div",[e._v("出售的货币交易成功！")]):e._e()]),r("hr")],1)})),r("div",[0!=e.messages.length?r("el-button",{staticClass:"pop-item",on:{click:function(t){return e.clearMessage()}}},[e._v("清空消息")]):e._e()],1),r("el-button",{attrs:{slot:"reference",icon:0==e.messages.length?"el-icon-bell":"el-icon-message-solid",size:"medium",circle:""},slot:"reference"})],2)],1),r("el-popover",{attrs:{placement:"bottom",width:"80",trigger:"hover"}},[r("div",[r("el-button",{staticClass:"pop-item",on:{click:function(t){return e.$router.push({path:"/collection"})}}},[e._v("我的收藏")]),r("el-button",{staticClass:"pop-item",on:{click:function(t){return e.$router.push({path:"/my_trading"})}}},[e._v("个人交易")]),r("el-button",{staticClass:"pop-item",on:{click:function(t){return e.$router.push({path:"/asset"})}}},[e._v("个人资产")]),r("el-button",{staticClass:"pop-item",on:{click:function(t){return e.$router.push({path:"/sale_coin"})}}},[e._v("出售货币")]),r("el-button",{staticClass:"pop-item",on:{click:function(t){return e.logoutClick()}}},[e._v("退出登陆")])],1),r("el-button",{attrs:{slot:"reference",icon:"el-icon-user",size:"medium",circle:""},slot:"reference"})],1)],1)],1)])],1)],1),r("el-row",{staticStyle:{"margin-top":"3rem"},attrs:{justify:"center",type:"flex"}},[r("el-col",{attrs:{xs:24,sm:22,md:20,lg:18,xl:16}},[r("router-view")],1)],1),r("el-backtop",{attrs:{top:50}},[r("div",{staticStyle:{"{\n      height":"100%",width:"100%","background-color":"#f2f5f6","box-shadow":"0 0 6px rgba(0,0,0, .12)","text-align":"center","line-height":"40px",color:"#1989fa"}},[e._v(" ⬆ ")])])],1)},s=[],a=r("1da1"),i=(r("d81d"),r("96cf"),r("dc14")),c=r.n(i),o={data:function(){return{src:c.a,messages:[],timer:null}},created:function(){this.getMessage(),this.timer=setInterval(this.getMessage,6e4)},beforeDestroy:function(){clearInterval(this.timer)},methods:{homeClick:function(){this.$router.push({path:"/cryptocurrency"})},logoutClick:function(){window.sessionStorage.removeItem("token"),this.$router.push({path:"/login"})},getMessage:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/data-api/v3/cryptocurrency/transaction/msg",{headers:{token:window.sessionStorage["token"]}});case 3:if(r=t.sent,200==r.status){t.next=7;break}return e.$message.error("错误: "+r.data.msg),t.abrupt("return",!1);case 7:return e.messages=r.data,t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t["catch"](0),e.$message.error("错误: "+t.t0.response.data.msg),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},readMessage:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$http.post("/data-api/v3/cryptocurrency/transaction/readmsg",e,{headers:{token:window.sessionStorage["token"]}});case 3:if(n=r.sent,200==n.status){r.next=7;break}return t.$message.error("错误: "+n.data.msg),r.abrupt("return",!1);case 7:return r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r["catch"](0),t.$message.error("错误: "+r.t0.response.data.msg),r.abrupt("return",!1);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},clickMessage:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.TsId,r.next=3,t.readMessage([e.MsgId]);case 3:return r.next=5,t.getMessage();case 5:t.$router.push({name:"transaction",params:{TsId:n}});case 6:case"end":return r.stop()}}),r)})))()},clearMessage:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.readMessage(e.messages.map((function(e){return e.MsgId})));case 2:return r=t.sent,r?e.$message.success("清除成功"):e.$message.error("清除失败"),t.next=6,e.getMessage();case 6:case"end":return t.stop()}}),t)})))()}}},u=o,l=(r("db8a"),r("2877")),g=Object(l["a"])(u,n,s,!1,null,"5f68d0b2",null);t["default"]=g.exports},db8a:function(e,t,r){"use strict";r("fe7d")},dc14:function(e,t,r){e.exports=r.p+"img/COIN.d557820e.png"},fe7d:function(e,t,r){}}]);
//# sourceMappingURL=chunk-acef49c2.49d2d026.js.map