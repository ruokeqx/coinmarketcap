(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208528"],{a3ff:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("出售货币")]),r("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.formRules,"label-width":"0px"}},[r("el-row",{staticStyle:{"margin-top":"3rem"}},[r("el-col",{attrs:{xs:24,sm:{span:20,offset:2},md:{span:18,offset:3},lg:{span:16,offset:4},xl:{span:14,offset:5}}},[r("el-card",{staticStyle:{"text-align":"center"},attrs:{shadow:"hover"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{staticStyle:{"line-height":"48px","text-align":"right"},attrs:{span:6}},[e._v("币种")]),r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{prop:"selectedCoin"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.fixed,filterable:"",placeholder:"请选择币种"},model:{value:e.form.selectedCoin,callback:function(t){e.$set(e.form,"selectedCoin",t)},expression:"form.selectedCoin"}},e._l(e.coins,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{staticStyle:{"line-height":"48px","text-align":"right"},attrs:{span:6}},[e._v("出售数量")]),r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{prop:"amount"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入出售数量"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{staticStyle:{"line-height":"48px","text-align":"right"},attrs:{span:6}},[e._v("预期交易时间")]),r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{prop:"expectedTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"请选择"},model:{value:e.form.expectedTime,callback:function(t){e.$set(e.form,"expectedTime",t)},expression:"form.expectedTime"}})],1)],1)],1),r("el-button",{on:{click:function(t){return e.saleButton()}}},[e._v("出售")])],1)],1)],1)],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("7db0"),r("b0c0"),r("9cf2")),i={data:function(){var e=this,t=null;if(void 0!=this.$route.params.coin){var r=s["a"].find((function(t){return t.name==e.$route.params.coin}));void 0!=r&&(t=r.id)}return{coins:s["a"],fixed:null!=t,form:{amount:null,selectedCoin:t,expectedTime:(new Date).getTime()+864e5},formRules:{amount:[{required:!0,pattern:/[1-9][0-9]*(\.[0-9]*)?/,message:"请输入数量",trigger:"blur"}],selectedCoin:[{required:!0,message:"请选择币种",trigger:"blur"}],expectedTime:[{required:!0,message:"请选择时间",trigger:"blur"}]}}},methods:{saleButton:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.formRef.validate();case 2:if(r=t.sent,r){t.next=5;break}return t.abrupt("return");case 5:a=e,e.$confirm("确认出售吗","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$http.post("data-api/v3/cryptocurrency/transaction/create",{ExpectedTime:e.form.expectedTime/1e3,TsCid:e.form.selectedCoin,TsNum:parseFloat(e.form.amount)},{headers:{token:window.sessionStorage["token"]}}).then((function(e){200==e.data.code?(a.$message.success("上架成功"),a.$router.push({path:"/trade"})):a.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})).catch((function(e){a.$alert("错误: "+e.response.data.msg,"提示",{confirmButtonText:"OK"})}))})).catch((function(){a.$message({type:"info",message:"取消出售"})}));case 7:case"end":return t.stop()}}),t)})))()}}},l=i,c=r("2877"),u=Object(c["a"])(l,a,n,!1,null,"7ad4416c",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d208528.7ce5214a.js.map